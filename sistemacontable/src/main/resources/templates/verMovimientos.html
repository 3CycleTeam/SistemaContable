<!DOCTYPE html>
<html lang="es" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">

<head th:replace="layout/header:: header"></head>

<body>

<div class="container-fluid ">
    <div class="row ">
        <div class="row flex-nowrap">
            <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-light "><!--Abre Barra Lateral-->
                <nav th:replace="layout/menu :: menu"></nav>
                <div class="col py-3 mx-5 ">
                    <main layout:fragment="contenido" role="main" class="container">

                        <h3 class="text text-center mb-4">Lista de Movimientos</h3>
                        <h5>Responsive</h5> shrinks in width, hides text labels and collapses to icons only on mobile
                        <table class="table container table-hover table-striped text-center">
                            <thead>
                            <th>Fecha</th>
                            <th>Concepto</th>
                            <th>Monto</th>
                            <th>Nombre</th>
                            <th>Empresa</th>
                            <th>Editar</th>

                            </thead>
                            <tbody>
                            <tr th:each="movimientos: ${listaMovimientos}">
                                <td th:text="${movimientos.fecha}"></td>
                                <td th:text="${movimientos.conceptoMovimiento}"></td>
                                <td th:text="${#numbers.formatCurrency(movimientos.movimientoDinero)}"></td>
                                <td th:text="${movimientos.empleadoMovimiento.nombre}"></td>
                                <td th:text="${movimientos.empresaMovimiento.nombre}"></td>


                                <td>
                                    <button type="button" class="btn btn-primary ">
                                        <a class="text-white text-decoration-none"
                                           th:href="@{/editarMovimiento/{id}(id=${movimientos.id})}"><i
                                                class="bi bi-pencil-square"></i></a></button>
                                </td>

                            </tr>

                            </tbody>
                        </table>

                        <div>
                            <h5></h5>A continuación se muestra el total de los movimientos:
                            <h3>Total <span class="badge bg-danger" th:text="${#numbers.formatCurrency(sumamovimientos)}"></span></h3>
                        </div>



                    </main>
                </div>
            </div>
        </div>
    </div>
</div>


<div th:if="${mensaje != null}" th:text="${mensaje}">

</div>

<div th:if="${sumamovimientos != null}">

    <h5></h5>A continuación se muestra el total de los movimientos:
    <h3>Total <span class="badge bg-danger" th:text=" ${#numbers.formatCurrency(sumamovimientos)}"></span></h3>


</div>
<!-- ELSE -->
<div th:unless="${sumamovimientos == null}">
    <div th:text=" 'ok' }">Hi, User</div>
</div>

















<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>


</body>


</html>